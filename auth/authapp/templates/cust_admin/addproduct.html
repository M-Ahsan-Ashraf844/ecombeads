{% extends "cust_admin/base.html" %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white dark:bg-gray-900 rounded-2xl shadow p-6 mt-6">
  <h2 class="text-xl font-bold mb-6 text-gray-800 dark:text-white">âž• Add Product</h2>

  <form action="{% url 'addproduct' %}" method="POST" enctype="multipart/form-data" class="flex flex-col gap-4">
    {% csrf_token %}

    <div>
      <label class="block text-sm font-medium mb-1">Product Name</label>
      
      <input type="text" name="name" value="{{prod.name}}" placeholder="Enter product name"
        class="w-full text-black rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm focus:ring-2 focus:ring-primary/40" required>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Price</label>
      <input type="number" value="{{prod.price}}" name="price" placeholder="Enter price"
        class="w-full text-black rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm focus:ring-2 focus:ring-primary/40" required>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Description</label>
<textarea name="description" value="{{prod.description}}" placeholder="Enter product description"
  class="w-full text-black rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm focus:ring-2 focus:ring-primary/40" required>
</textarea>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Image</label>
      {% if prod and prod.image %}
  <div class="mb-2">
    <p class="text-sm text-gray-600">Current Image:</p>
    <img src="{{ prod.image.url }}" alt="{{ prod.name }}" class="h-20 w-20 object-cover rounded border">
  </div>
{% endif %}


      <input type="file" name="image"
        class="w-full rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm focus:ring-2 focus:ring-primary/40" required>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Category</label>
      <select name="category"
        class="w-full text-black rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm focus:ring-2 focus:ring-primary/40" required>
        <option value="">Select Category</option>
        {% for cat in categories %}
          <option class="text-black" value="{{cat.id}}"{% if prod and prod.category.id == cat.id %}selected{% endif %}>{{cat.category}}</option>
        {% endfor %}
      </select>
    </div>

    <button type="submit"
      class="rounded-lg bg-primary text-white px-4 py-2 text-sm hover:opacity-95 transition">
      Save Product
    </button>
  </form>
</div>
{% endblock %}
